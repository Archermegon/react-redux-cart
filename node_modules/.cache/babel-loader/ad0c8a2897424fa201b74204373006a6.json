{"ast":null,"code":"import _objectSpread from \"/home/megon/Desktop/newSection-deepin/12\\u6708\\u4EFD/12-28/react-redux-cart/node_modules/@babel/runtime/helpers/esm/objectSpread\";\n// state = {\n//   productId: [],\n//   quantityByid: {}\n// }\nimport { GET_PRO, CHANGE, MINUS, CHECKOUT } from \"../constants\";\n\nvar cart = function cart() {\n  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {\n    productId: [],\n    quantityByid: {}\n  };\n  var action = arguments.length > 1 ? arguments[1] : undefined;\n\n  switch (action.type) {\n    case GET_CART:\n      return action.cart;\n      break;\n\n    case CHANGE:\n      var id = action.id;\n\n      var newState = _objectSpread({}, state);\n\n      if (newState.productId.indexOf(id) === -1) {\n        newState.productId.push(id);\n        newState.quantityByid[id] = 1;\n      } else {\n        newState.quantityByid[id]++;\n      }\n\n      return newState;\n      break;\n\n    case MINUS:\n      var proid = action.proid;\n\n      var theState = _objectSpread({}, state);\n\n      if (theState.quantityByid[proid] === 1) {\n        delete theState.quantityByid[proid];\n        theState.productId.splice(theState.productId.indexOf(proid), 1);\n      } else {\n        theState.quantityByid[proid]--;\n      }\n\n      return theState;\n      break;\n\n    case CHECK_OUT:\n      return action.checkout;\n\n    default:\n      return state;\n  }\n};\n\nexport default cart;","map":{"version":3,"sources":["/home/megon/Desktop/newSection-deepin/12月份/12-28/react-redux-cart/src/reducers/cart.js"],"names":["GET_PRO","CHANGE","MINUS","CHECKOUT","cart","state","productId","quantityByid","action","type","GET_CART","id","newState","indexOf","push","proid","theState","splice","CHECK_OUT","checkout"],"mappings":";AAAA;AACA;AACA;AACA;AACA,SAASA,OAAT,EAAkBC,MAAlB,EAA0BC,KAA1B,EAAiCC,QAAjC,QAAiD,cAAjD;;AACA,IAAMC,IAAI,GAAG,SAAPA,IAAO,GAMR;AAAA,MALHC,KAKG,uEALK;AACNC,IAAAA,SAAS,EAAE,EADL;AAENC,IAAAA,YAAY,EAAE;AAFR,GAKL;AAAA,MADHC,MACG;;AACH,UAAQA,MAAM,CAACC,IAAf;AACE,SAAKC,QAAL;AACE,aAAOF,MAAM,CAACJ,IAAd;AACA;;AACF,SAAKH,MAAL;AAAA,UACUU,EADV,GACiBH,MADjB,CACUG,EADV;;AAEE,UAAMC,QAAQ,qBAAQP,KAAR,CAAd;;AACA,UAAIO,QAAQ,CAACN,SAAT,CAAmBO,OAAnB,CAA2BF,EAA3B,MAAmC,CAAC,CAAxC,EAA2C;AACzCC,QAAAA,QAAQ,CAACN,SAAT,CAAmBQ,IAAnB,CAAwBH,EAAxB;AACAC,QAAAA,QAAQ,CAACL,YAAT,CAAsBI,EAAtB,IAA4B,CAA5B;AACD,OAHD,MAGO;AACLC,QAAAA,QAAQ,CAACL,YAAT,CAAsBI,EAAtB;AACD;;AACD,aAAOC,QAAP;AACA;;AACF,SAAKV,KAAL;AAAA,UACUa,KADV,GACoBP,MADpB,CACUO,KADV;;AAEE,UAAMC,QAAQ,qBAAQX,KAAR,CAAd;;AACA,UAAIW,QAAQ,CAACT,YAAT,CAAsBQ,KAAtB,MAAiC,CAArC,EAAwC;AACtC,eAAOC,QAAQ,CAACT,YAAT,CAAsBQ,KAAtB,CAAP;AACAC,QAAAA,QAAQ,CAACV,SAAT,CAAmBW,MAAnB,CAA0BD,QAAQ,CAACV,SAAT,CAAmBO,OAAnB,CAA2BE,KAA3B,CAA1B,EAA6D,CAA7D;AACD,OAHD,MAGO;AACLC,QAAAA,QAAQ,CAACT,YAAT,CAAsBQ,KAAtB;AACD;;AACD,aAAOC,QAAP;AACA;;AACF,SAAKE,SAAL;AACE,aAAOV,MAAM,CAACW,QAAd;;AACF;AACE,aAAOd,KAAP;AA7BJ;AA+BD,CAtCD;;AAwCA,eAAeD,IAAf","sourcesContent":["// state = {\n//   productId: [],\n//   quantityByid: {}\n// }\nimport { GET_PRO, CHANGE, MINUS, CHECKOUT } from \"../constants\";\nconst cart = (\n  state = {\n    productId: [],\n    quantityByid: {}\n  },\n  action\n) => {\n  switch (action.type) {\n    case GET_CART:\n      return action.cart;\n      break;\n    case CHANGE:\n      const { id } = action;\n      const newState = { ...state };\n      if (newState.productId.indexOf(id) === -1) {\n        newState.productId.push(id);\n        newState.quantityByid[id] = 1;\n      } else {\n        newState.quantityByid[id]++;\n      }\n      return newState;\n      break;\n    case MINUS:\n      const { proid } = action;\n      const theState = { ...state };\n      if (theState.quantityByid[proid] === 1) {\n        delete theState.quantityByid[proid];\n        theState.productId.splice(theState.productId.indexOf(proid), 1);\n      } else {\n        theState.quantityByid[proid]--;\n      }\n      return theState;\n      break;\n    case CHECK_OUT:\n      return action.checkout;\n    default:\n      return state;\n  }\n};\n\nexport default cart;\n"]},"metadata":{},"sourceType":"module"}