{"ast":null,"code":"import _objectSpread from \"/home/megon/Desktop/newSection-deepin/12\\u6708\\u4EFD/12-28/react-redux-cart/node_modules/@babel/runtime/helpers/esm/objectSpread\";\n// state = {\n//   productId: [],\n//   quantityByid: {}\n// }\nimport { GET_CART, CHANGE, MINUS } from \"../constants\";\n\nvar cart = function cart() {\n  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {\n    productId: [],\n    quantityByid: {}\n  };\n  var action = arguments.length > 1 ? arguments[1] : undefined;\n\n  switch (action.type) {\n    case \"GET_CART\":\n      return action.cart;\n      break;\n\n    case CHANGE:\n      var id = action.id;\n\n      var newState = _objectSpread({}, state);\n\n      if (newState.productId.indexOf(id) === -1) {\n        newState.productId.push(id);\n        newState.quantityByid[id] = 1;\n      } else {\n        newState.quantityByid[id]++;\n      }\n\n      return newState;\n      break;\n\n    case MINUS:\n      var proid = action.proid;\n\n      var theState = _objectSpread({}, state);\n\n      if (theState.quantityByid[proid] === 1) {\n        delete theState.quantityByid[proid];\n        theState.productId.splice(theState.productId.indexOf(proid), 1);\n      } else {\n        theState.quantityByid[proid]--;\n      }\n\n      return theState;\n      break;\n\n    case \"CHECK_OUT\":\n      return action.checkout;\n\n    default:\n      return state;\n  }\n};\n\nexport default cart;","map":{"version":3,"sources":["/home/megon/Desktop/newSection-deepin/12月份/12-28/react-redux-cart/src/reducers/cart.js"],"names":["GET_CART","CHANGE","MINUS","cart","state","productId","quantityByid","action","type","id","newState","indexOf","push","proid","theState","splice","checkout"],"mappings":";AAAA;AACA;AACA;AACA;AACA,SAASA,QAAT,EAAmBC,MAAnB,EAA2BC,KAA3B,QAAwC,cAAxC;;AACA,IAAMC,IAAI,GAAG,SAAPA,IAAO,GAMR;AAAA,MALHC,KAKG,uEALK;AACNC,IAAAA,SAAS,EAAE,EADL;AAENC,IAAAA,YAAY,EAAE;AAFR,GAKL;AAAA,MADHC,MACG;;AACH,UAAQA,MAAM,CAACC,IAAf;AACE,SAAK,UAAL;AACE,aAAOD,MAAM,CAACJ,IAAd;AACA;;AACF,SAAKF,MAAL;AAAA,UACUQ,EADV,GACiBF,MADjB,CACUE,EADV;;AAEE,UAAMC,QAAQ,qBAAQN,KAAR,CAAd;;AACA,UAAIM,QAAQ,CAACL,SAAT,CAAmBM,OAAnB,CAA2BF,EAA3B,MAAmC,CAAC,CAAxC,EAA2C;AACzCC,QAAAA,QAAQ,CAACL,SAAT,CAAmBO,IAAnB,CAAwBH,EAAxB;AACAC,QAAAA,QAAQ,CAACJ,YAAT,CAAsBG,EAAtB,IAA4B,CAA5B;AACD,OAHD,MAGO;AACLC,QAAAA,QAAQ,CAACJ,YAAT,CAAsBG,EAAtB;AACD;;AACD,aAAOC,QAAP;AACA;;AACF,SAAKR,KAAL;AAAA,UACUW,KADV,GACoBN,MADpB,CACUM,KADV;;AAEE,UAAMC,QAAQ,qBAAQV,KAAR,CAAd;;AACA,UAAIU,QAAQ,CAACR,YAAT,CAAsBO,KAAtB,MAAiC,CAArC,EAAwC;AACtC,eAAOC,QAAQ,CAACR,YAAT,CAAsBO,KAAtB,CAAP;AACAC,QAAAA,QAAQ,CAACT,SAAT,CAAmBU,MAAnB,CAA0BD,QAAQ,CAACT,SAAT,CAAmBM,OAAnB,CAA2BE,KAA3B,CAA1B,EAA6D,CAA7D;AACD,OAHD,MAGO;AACLC,QAAAA,QAAQ,CAACR,YAAT,CAAsBO,KAAtB;AACD;;AACD,aAAOC,QAAP;AACA;;AACF,SAAK,WAAL;AACE,aAAOP,MAAM,CAACS,QAAd;;AACF;AACE,aAAOZ,KAAP;AA7BJ;AA+BD,CAtCD;;AAwCA,eAAeD,IAAf","sourcesContent":["// state = {\n//   productId: [],\n//   quantityByid: {}\n// }\nimport { GET_CART, CHANGE, MINUS } from \"../constants\";\nconst cart = (\n  state = {\n    productId: [],\n    quantityByid: {}\n  },\n  action\n) => {\n  switch (action.type) {\n    case \"GET_CART\":\n      return action.cart;\n      break;\n    case CHANGE:\n      const { id } = action;\n      const newState = { ...state };\n      if (newState.productId.indexOf(id) === -1) {\n        newState.productId.push(id);\n        newState.quantityByid[id] = 1;\n      } else {\n        newState.quantityByid[id]++;\n      }\n      return newState;\n      break;\n    case MINUS:\n      const { proid } = action;\n      const theState = { ...state };\n      if (theState.quantityByid[proid] === 1) {\n        delete theState.quantityByid[proid];\n        theState.productId.splice(theState.productId.indexOf(proid), 1);\n      } else {\n        theState.quantityByid[proid]--;\n      }\n      return theState;\n      break;\n    case \"CHECK_OUT\":\n      return action.checkout;\n    default:\n      return state;\n  }\n};\n\nexport default cart;\n"]},"metadata":{},"sourceType":"module"}